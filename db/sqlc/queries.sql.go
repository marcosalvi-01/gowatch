// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.29.0
// source: queries.sql

package sqlc

import (
	"context"
	"time"
)

const getAllWatched = `-- name: GetAllWatched :many
SELECT
    movie_id, watched_date
FROM
    watched
`

func (q *Queries) GetAllWatched(ctx context.Context) ([]Watched, error) {
	rows, err := q.db.QueryContext(ctx, getAllWatched)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []Watched
	for rows.Next() {
		var i Watched
		if err := rows.Scan(&i.MovieID, &i.WatchedDate); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const getCastByMovieID = `-- name: GetCastByMovieID :many
SELECT
    movie_id, person_id, cast_id, credit_id, character, cast_order
FROM
    cast
WHERE
    movie_id = ?
`

func (q *Queries) GetCastByMovieID(ctx context.Context, movieID int64) ([]Cast, error) {
	rows, err := q.db.QueryContext(ctx, getCastByMovieID, movieID)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []Cast
	for rows.Next() {
		var i Cast
		if err := rows.Scan(
			&i.MovieID,
			&i.PersonID,
			&i.CastID,
			&i.CreditID,
			&i.Character,
			&i.CastOrder,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const getCrewByMovieID = `-- name: GetCrewByMovieID :many
SELECT
    movie_id, person_id, credit_id, job, department
FROM
    crew
WHERE
    movie_id = ?
`

func (q *Queries) GetCrewByMovieID(ctx context.Context, movieID int64) ([]Crew, error) {
	rows, err := q.db.QueryContext(ctx, getCrewByMovieID, movieID)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []Crew
	for rows.Next() {
		var i Crew
		if err := rows.Scan(
			&i.MovieID,
			&i.PersonID,
			&i.CreditID,
			&i.Job,
			&i.Department,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const getMostWatchedMovies = `-- name: GetMostWatchedMovies :many
SELECT
    movie.id, movie.imdb_id, movie.title, movie.original_title, movie.release_date, movie.original_language, movie.overview, movie.poster_path, movie.backdrop_path, movie.budget, movie.revenue, movie.runtime, movie.vote_average, movie.vote_count, movie.popularity, movie.homepage, movie.status, movie.tagline,
    COUNT(*) AS view_count
FROM
    watched
    JOIN movie ON watched.movie_id = movie.id
GROUP BY
    movie.id
ORDER BY
    view_count DESC
`

type GetMostWatchedMoviesRow struct {
	Movie     Movie
	ViewCount int64
}

func (q *Queries) GetMostWatchedMovies(ctx context.Context) ([]GetMostWatchedMoviesRow, error) {
	rows, err := q.db.QueryContext(ctx, getMostWatchedMovies)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []GetMostWatchedMoviesRow
	for rows.Next() {
		var i GetMostWatchedMoviesRow
		if err := rows.Scan(
			&i.Movie.ID,
			&i.Movie.ImdbID,
			&i.Movie.Title,
			&i.Movie.OriginalTitle,
			&i.Movie.ReleaseDate,
			&i.Movie.OriginalLanguage,
			&i.Movie.Overview,
			&i.Movie.PosterPath,
			&i.Movie.BackdropPath,
			&i.Movie.Budget,
			&i.Movie.Revenue,
			&i.Movie.Runtime,
			&i.Movie.VoteAverage,
			&i.Movie.VoteCount,
			&i.Movie.Popularity,
			&i.Movie.Homepage,
			&i.Movie.Status,
			&i.Movie.Tagline,
			&i.ViewCount,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const getMovieByID = `-- name: GetMovieByID :one
SELECT
    id, imdb_id, title, original_title, release_date, original_language, overview, poster_path, backdrop_path, budget, revenue, runtime, vote_average, vote_count, popularity, homepage, status, tagline
FROM
    movie
WHERE
    id = ?
`

func (q *Queries) GetMovieByID(ctx context.Context, id int64) (Movie, error) {
	row := q.db.QueryRowContext(ctx, getMovieByID, id)
	var i Movie
	err := row.Scan(
		&i.ID,
		&i.ImdbID,
		&i.Title,
		&i.OriginalTitle,
		&i.ReleaseDate,
		&i.OriginalLanguage,
		&i.Overview,
		&i.PosterPath,
		&i.BackdropPath,
		&i.Budget,
		&i.Revenue,
		&i.Runtime,
		&i.VoteAverage,
		&i.VoteCount,
		&i.Popularity,
		&i.Homepage,
		&i.Status,
		&i.Tagline,
	)
	return i, err
}

const getMovieByName = `-- name: GetMovieByName :one
SELECT
    id, imdb_id, title, original_title, release_date, original_language, overview, poster_path, backdrop_path, budget, revenue, runtime, vote_average, vote_count, popularity, homepage, status, tagline
FROM
    movie
WHERE
    title = ?
`

func (q *Queries) GetMovieByName(ctx context.Context, title string) (Movie, error) {
	row := q.db.QueryRowContext(ctx, getMovieByName, title)
	var i Movie
	err := row.Scan(
		&i.ID,
		&i.ImdbID,
		&i.Title,
		&i.OriginalTitle,
		&i.ReleaseDate,
		&i.OriginalLanguage,
		&i.Overview,
		&i.PosterPath,
		&i.BackdropPath,
		&i.Budget,
		&i.Revenue,
		&i.Runtime,
		&i.VoteAverage,
		&i.VoteCount,
		&i.Popularity,
		&i.Homepage,
		&i.Status,
		&i.Tagline,
	)
	return i, err
}

const getMovieGenre = `-- name: GetMovieGenre :many
SELECT
    id, name, movie_id, genre_id
FROM
    genre
    JOIN genre_movie ON genre.id = genre_movie.genre_id
WHERE
    genre_movie.movie_id = ?
`

type GetMovieGenreRow struct {
	ID      int64
	Name    string
	MovieID int64
	GenreID int64
}

func (q *Queries) GetMovieGenre(ctx context.Context, movieID int64) ([]GetMovieGenreRow, error) {
	rows, err := q.db.QueryContext(ctx, getMovieGenre, movieID)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []GetMovieGenreRow
	for rows.Next() {
		var i GetMovieGenreRow
		if err := rows.Scan(
			&i.ID,
			&i.Name,
			&i.MovieID,
			&i.GenreID,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const getPerson = `-- name: GetPerson :one
SELECT
    id, name, original_name, profile_path, known_for_department, popularity, gender, adult
FROM
    person
WHERE
    id = ?
`

func (q *Queries) GetPerson(ctx context.Context, id int64) (Person, error) {
	row := q.db.QueryRowContext(ctx, getPerson, id)
	var i Person
	err := row.Scan(
		&i.ID,
		&i.Name,
		&i.OriginalName,
		&i.ProfilePath,
		&i.KnownForDepartment,
		&i.Popularity,
		&i.Gender,
		&i.Adult,
	)
	return i, err
}

const getWatchedJoinMovie = `-- name: GetWatchedJoinMovie :many
SELECT
    movie.id, movie.imdb_id, movie.title, movie.original_title, movie.release_date, movie.original_language, movie.overview, movie.poster_path, movie.backdrop_path, movie.budget, movie.revenue, movie.runtime, movie.vote_average, movie.vote_count, movie.popularity, movie.homepage, movie.status, movie.tagline,
    watched.movie_id, watched.watched_date
FROM
    watched
    JOIN movie ON watched.movie_id = movie.id
`

type GetWatchedJoinMovieRow struct {
	Movie   Movie
	Watched Watched
}

func (q *Queries) GetWatchedJoinMovie(ctx context.Context) ([]GetWatchedJoinMovieRow, error) {
	rows, err := q.db.QueryContext(ctx, getWatchedJoinMovie)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []GetWatchedJoinMovieRow
	for rows.Next() {
		var i GetWatchedJoinMovieRow
		if err := rows.Scan(
			&i.Movie.ID,
			&i.Movie.ImdbID,
			&i.Movie.Title,
			&i.Movie.OriginalTitle,
			&i.Movie.ReleaseDate,
			&i.Movie.OriginalLanguage,
			&i.Movie.Overview,
			&i.Movie.PosterPath,
			&i.Movie.BackdropPath,
			&i.Movie.Budget,
			&i.Movie.Revenue,
			&i.Movie.Runtime,
			&i.Movie.VoteAverage,
			&i.Movie.VoteCount,
			&i.Movie.Popularity,
			&i.Movie.Homepage,
			&i.Movie.Status,
			&i.Movie.Tagline,
			&i.Watched.MovieID,
			&i.Watched.WatchedDate,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const getWatchedMovieDetails = `-- name: GetWatchedMovieDetails :one
SELECT
    movie.id, movie.imdb_id, movie.title, movie.original_title, movie.release_date, movie.original_language, movie.overview, movie.poster_path, movie.backdrop_path, movie.budget, movie.revenue, movie.runtime, movie.vote_average, movie.vote_count, movie.popularity, movie.homepage, movie.status, movie.tagline,
    COUNT(*) AS view_count
FROM
    watched
    JOIN movie ON watched.movie_id = movie.id
WHERE
    movie.id = ?
GROUP BY
    movie.id
`

type GetWatchedMovieDetailsRow struct {
	Movie     Movie
	ViewCount int64
}

func (q *Queries) GetWatchedMovieDetails(ctx context.Context, id int64) (GetWatchedMovieDetailsRow, error) {
	row := q.db.QueryRowContext(ctx, getWatchedMovieDetails, id)
	var i GetWatchedMovieDetailsRow
	err := row.Scan(
		&i.Movie.ID,
		&i.Movie.ImdbID,
		&i.Movie.Title,
		&i.Movie.OriginalTitle,
		&i.Movie.ReleaseDate,
		&i.Movie.OriginalLanguage,
		&i.Movie.Overview,
		&i.Movie.PosterPath,
		&i.Movie.BackdropPath,
		&i.Movie.Budget,
		&i.Movie.Revenue,
		&i.Movie.Runtime,
		&i.Movie.VoteAverage,
		&i.Movie.VoteCount,
		&i.Movie.Popularity,
		&i.Movie.Homepage,
		&i.Movie.Status,
		&i.Movie.Tagline,
		&i.ViewCount,
	)
	return i, err
}

const insertCast = `-- name: InsertCast :one
INSERT INTO
    cast (
        movie_id,
        person_id,
        cast_id,
        credit_id,
        character,
        cast_order
    )
VALUES
    (?, ?, ?, ?, ?, ?)
RETURNING
    movie_id, person_id, cast_id, credit_id, character, cast_order
`

type InsertCastParams struct {
	MovieID   int64
	PersonID  int64
	CastID    int64
	CreditID  string
	Character string
	CastOrder int64
}

func (q *Queries) InsertCast(ctx context.Context, arg InsertCastParams) (Cast, error) {
	row := q.db.QueryRowContext(ctx, insertCast,
		arg.MovieID,
		arg.PersonID,
		arg.CastID,
		arg.CreditID,
		arg.Character,
		arg.CastOrder,
	)
	var i Cast
	err := row.Scan(
		&i.MovieID,
		&i.PersonID,
		&i.CastID,
		&i.CreditID,
		&i.Character,
		&i.CastOrder,
	)
	return i, err
}

const insertCrew = `-- name: InsertCrew :one
INSERT INTO
    crew (
        movie_id,
        person_id,
        credit_id,
        job,
        department
    )
VALUES
    (?, ?, ?, ?, ?)
RETURNING
    movie_id, person_id, credit_id, job, department
`

type InsertCrewParams struct {
	MovieID    int64
	PersonID   int64
	CreditID   string
	Job        string
	Department string
}

func (q *Queries) InsertCrew(ctx context.Context, arg InsertCrewParams) (Crew, error) {
	row := q.db.QueryRowContext(ctx, insertCrew,
		arg.MovieID,
		arg.PersonID,
		arg.CreditID,
		arg.Job,
		arg.Department,
	)
	var i Crew
	err := row.Scan(
		&i.MovieID,
		&i.PersonID,
		&i.CreditID,
		&i.Job,
		&i.Department,
	)
	return i, err
}

const insertGenre = `-- name: InsertGenre :one
INSERT INTO
    genre (id, name)
VALUES
    (?, ?)
RETURNING
    id, name
`

type InsertGenreParams struct {
	ID   int64
	Name string
}

func (q *Queries) InsertGenre(ctx context.Context, arg InsertGenreParams) (Genre, error) {
	row := q.db.QueryRowContext(ctx, insertGenre, arg.ID, arg.Name)
	var i Genre
	err := row.Scan(&i.ID, &i.Name)
	return i, err
}

const insertGenreMovie = `-- name: InsertGenreMovie :one
INSERT INTO
    genre_movie (movie_id, genre_id)
VALUES
    (?, ?)
RETURNING
    movie_id, genre_id
`

type InsertGenreMovieParams struct {
	MovieID int64
	GenreID int64
}

func (q *Queries) InsertGenreMovie(ctx context.Context, arg InsertGenreMovieParams) (GenreMovie, error) {
	row := q.db.QueryRowContext(ctx, insertGenreMovie, arg.MovieID, arg.GenreID)
	var i GenreMovie
	err := row.Scan(&i.MovieID, &i.GenreID)
	return i, err
}

const insertMovie = `-- name: InsertMovie :one
INSERT INTO
    movie (
        id,
        imdb_id,
        title,
        original_title,
        release_date,
        original_language,
        overview,
        poster_path,
        backdrop_path,
        budget,
        revenue,
        runtime,
        vote_average,
        vote_count,
        popularity,
        homepage,
        STATUS,
        tagline
    )
VALUES
    (
        ?,
        ?,
        ?,
        ?,
        ?,
        ?,
        ?,
        ?,
        ?,
        ?,
        ?,
        ?,
        ?,
        ?,
        ?,
        ?,
        ?,
        ?
    )
RETURNING
    id, imdb_id, title, original_title, release_date, original_language, overview, poster_path, backdrop_path, budget, revenue, runtime, vote_average, vote_count, popularity, homepage, status, tagline
`

type InsertMovieParams struct {
	ID               int64
	ImdbID           string
	Title            string
	OriginalTitle    string
	ReleaseDate      time.Time
	OriginalLanguage string
	Overview         string
	PosterPath       string
	BackdropPath     string
	Budget           int64
	Revenue          int64
	Runtime          int64
	VoteAverage      float64
	VoteCount        int64
	Popularity       float64
	Homepage         string
	Status           string
	Tagline          string
}

func (q *Queries) InsertMovie(ctx context.Context, arg InsertMovieParams) (Movie, error) {
	row := q.db.QueryRowContext(ctx, insertMovie,
		arg.ID,
		arg.ImdbID,
		arg.Title,
		arg.OriginalTitle,
		arg.ReleaseDate,
		arg.OriginalLanguage,
		arg.Overview,
		arg.PosterPath,
		arg.BackdropPath,
		arg.Budget,
		arg.Revenue,
		arg.Runtime,
		arg.VoteAverage,
		arg.VoteCount,
		arg.Popularity,
		arg.Homepage,
		arg.Status,
		arg.Tagline,
	)
	var i Movie
	err := row.Scan(
		&i.ID,
		&i.ImdbID,
		&i.Title,
		&i.OriginalTitle,
		&i.ReleaseDate,
		&i.OriginalLanguage,
		&i.Overview,
		&i.PosterPath,
		&i.BackdropPath,
		&i.Budget,
		&i.Revenue,
		&i.Runtime,
		&i.VoteAverage,
		&i.VoteCount,
		&i.Popularity,
		&i.Homepage,
		&i.Status,
		&i.Tagline,
	)
	return i, err
}

const insertPerson = `-- name: InsertPerson :one
INSERT INTO
    person (
        id,
        name,
        original_name,
        profile_path,
        known_for_department,
        popularity,
        gender,
        adult
    )
VALUES
    (?, ?, ?, ?, ?, ?, ?, ?)
RETURNING
    id, name, original_name, profile_path, known_for_department, popularity, gender, adult
`

type InsertPersonParams struct {
	ID                 int64
	Name               string
	OriginalName       string
	ProfilePath        string
	KnownForDepartment string
	Popularity         float64
	Gender             int64
	Adult              bool
}

func (q *Queries) InsertPerson(ctx context.Context, arg InsertPersonParams) (Person, error) {
	row := q.db.QueryRowContext(ctx, insertPerson,
		arg.ID,
		arg.Name,
		arg.OriginalName,
		arg.ProfilePath,
		arg.KnownForDepartment,
		arg.Popularity,
		arg.Gender,
		arg.Adult,
	)
	var i Person
	err := row.Scan(
		&i.ID,
		&i.Name,
		&i.OriginalName,
		&i.ProfilePath,
		&i.KnownForDepartment,
		&i.Popularity,
		&i.Gender,
		&i.Adult,
	)
	return i, err
}

const insertWatched = `-- name: InsertWatched :one
INSERT INTO
    watched (movie_id, watched_date)
VALUES
    (?, ?)
RETURNING
    movie_id, watched_date
`

type InsertWatchedParams struct {
	MovieID     int64
	WatchedDate time.Time
}

func (q *Queries) InsertWatched(ctx context.Context, arg InsertWatchedParams) (Watched, error) {
	row := q.db.QueryRowContext(ctx, insertWatched, arg.MovieID, arg.WatchedDate)
	var i Watched
	err := row.Scan(&i.MovieID, &i.WatchedDate)
	return i, err
}
